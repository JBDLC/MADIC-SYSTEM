{% extends "base.html" %}
{% block content %}
<div class="page-header">
    <h1 class="page-title"><span class="sep">|</span> Changer mon mot de passe</h1>
    <div class="page-actions">
        <a href="{{ url_for('index') }}" class="btn btn-secondary">Retour</a>
    </div>
</div>

{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, msg in messages %}
            <div class="alert alert-{{ category if category in ['success','error'] else 'success' }}">{{ msg }}</div>
        {% endfor %}
    {% endif %}
{% endwith %}

<div class="card" style="max-width: 400px;">
    <form method="post">
        <div style="margin-bottom: 16px;">
            <label style="display: block; font-weight: 500; margin-bottom: 6px;">Mot de passe actuel</label>
            <input type="password" name="current_password" required style="width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 6px;">
        </div>
        <div style="margin-bottom: 16px;">
            <label style="display: block; font-weight: 500; margin-bottom: 6px;">Nouveau mot de passe</label>
            <input type="password" name="new_password" required minlength="6" style="width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 6px;">
        </div>
        <div style="margin-bottom: 20px;">
            <label style="display: block; font-weight: 500; margin-bottom: 6px;">Confirmer le nouveau mot de passe</label>
            <input type="password" name="confirm_password" required minlength="6" style="width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 6px;">
        </div>
        <button type="submit" class="btn btn-primary">Mettre Ã  jour</button>
    </form>
</div>
{% endblock %}
